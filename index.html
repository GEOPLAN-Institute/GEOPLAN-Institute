<!DOCTYPE html>
<html lang="sq">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Instituti GEOPLAN â€” Hyrje</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<meta name="description" content="Instituti GEOPLAN â€” KÃ«rkim, hartografi, dhe zgjidhje GIS pÃ«r planifikim rajonal." />

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

<style>
  .brand-gradient { background: linear-gradient(90deg,#0ea5a4,#0ea5b7); }
  .card-shadow { box-shadow: 0 6px 18px rgba(14,165,164,0.08); }
  #contactMap { width: 100%; height: 500px; border-radius: 1rem; }
  header { position: sticky; top: 0; z-index: 9999; background-color: white; }
  .modal-bg { 
    display: none; 
    position: fixed; 
    top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0,0,0,0.5); 
    z-index: 10000; 
    justify-content: center; 
    align-items: center; 
  }
  .modal-content { 
    width: 95%; max-width: 1000px; 
    background: white; 
    padding: 1rem; 
    border-radius: 0.5rem; 
    position: relative; 
  }
  .close-btn { position: absolute; top: 0.5rem; right: 0.5rem; cursor: pointer; font-weight: bold; }
</style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

<!-- Header -->
<header class="shadow-sm">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="#" class="flex items-center space-x-3">
      <img src="GEOPLAN Institute LOGO - Transparent.png" alt="Instituti GEOPLAN Logo" class="w-12 h-12 rounded-full object-contain" />
      <div>
        <div class="font-semibold">Instituti GEOPLAN</div>
        <div class="text-xs text-gray-500"> GIS | Remote Sensing | Planifikim</div>
      </div>
    </a>
    <nav class="hidden md:flex items-center space-x-6 text-sm" id="navLinks">
      <a href="#about" class="hover:text-teal-600">Rreth Nesh</a>
      <a href="#team" class="hover:text-teal-600">Ekipi</a>
      <a href="#projects" class="hover:text-teal-600">Projektet</a>
      <a href="#" id="openWebMap" class="hover:text-teal-600">WebMap</a>
      <a href="#contact" class="hover:text-teal-600">Kontakti</a>
    </nav>
    <div class="md:hidden">
      <button aria-label="open menu" id="menuBtn" class="px-3 py-2 rounded-lg bg-gray-100">Menu</button>
    </div>
  </div>
</header>

<!-- Hero Section -->
<section class="max-w-6xl mx-auto px-6 py-16 flex flex-col md:flex-row gap-8 items-center pt-20 md:pt-28">
  <div>
    <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
      Instituti GEOPLAN â€” Hulumtim, GIS dhe Zhvillim Rajonal
    </h1>
    <p class="mt-6 text-lg text-gray-600">
      Ne ofrojmÃ« shÃ«rbime tÃ« avancuara tÃ« hartografisÃ«, analizÃ«s sÃ« tÃ« dhÃ«nave hapÃ«sinore dhe konsulencÃ« pÃ«r planifikim urban dhe rajonal.
    </p>
    <div class="mt-8 flex space-x-4">
      <a href="#projects" class="px-5 py-3 border border-gray-200 rounded-lg">Shiko projektet</a>
      <a href="#" id="openWebMapHero" class="px-5 py-3 border border-gray-200 rounded-lg">Shiko WebMap</a>
    </div>
  </div>
</section>

<!-- About Section -->
<section id="about" class="bg-white py-12">
  <div class="max-w-5xl mx-auto px-6">
    <h2 class="text-2xl font-semibold">Rreth nesh</h2>
    <p class="mt-4 text-gray-600">
      Instituti GEOPLAN u themelua pÃ«r tÃ« sjellÃ« qasje multidisiplinare nÃ« studimin e hapÃ«sirÃ«s.
    </p>
    <div class="mt-6 grid md:grid-cols-3 gap-4">
      <div class="p-4 bg-gray-50 rounded-lg card-shadow">
        <h3 class="font-semibold">Misioni</h3>
        <p class="text-sm text-gray-600 mt-2">Zgjidhje hapÃ«sinore tÃ« qÃ«ndrueshme.</p>
      </div>
      <div class="p-4 bg-gray-50 rounded-lg card-shadow">
        <h3 class="font-semibold">Vizioni</h3>
        <p class="text-sm text-gray-600 mt-2">ReferencÃ« pÃ«r GIS dhe hulumtim rajonal.</p>
      </div>
      <div class="p-4 bg-gray-50 rounded-lg card-shadow">
        <h3 class="font-semibold">Vlerat</h3>
        <p class="text-sm text-gray-600 mt-2">SaktÃ«si, bashkÃ«punim, qasje e bazuar nÃ« tÃ« dhÃ«na.</p>
      </div>
    </div>
  </div>
</section>

<!-- Services Section -->
<section id="services" class="py-12">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-2xl font-semibold">ShÃ«rbimet</h2>
    <div class="mt-6 grid md:grid-cols-3 gap-6">
      <div class="p-6 bg-white rounded-xl card-shadow">
        <h3 class="font-semibold">Analiza GIS</h3>
        <p class="mt-2 text-sm text-gray-600">Analiza hapÃ«sinore pÃ«r planifikim urban dhe menaxhim resursesh.</p>
      </div>
      <div class="p-6 bg-white rounded-xl card-shadow">
        <h3 class="font-semibold">Fotogrametri & DronÃ«</h3>
        <p class="mt-2 text-sm text-gray-600">Produksion i tÃ« dhÃ«nave nga dronÃ«t pÃ«r modele 3D dhe ortofoto.</p>
      </div>
      <div class="p-6 bg-white rounded-xl card-shadow">
        <h3 class="font-semibold">Hartografi & Vizualizim</h3>
        <p class="mt-2 text-sm text-gray-600">Krijim hartash tÃ« printueshme dhe hartash interaktive WebGIS.</p>
      </div>
    </div>
  </div>
</section>

<!-- Projects Section -->
<section id="projects" class="bg-white py-12">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-2xl font-semibold">Projektet tona</h2>
    <div class="mt-6 grid md:grid-cols-3 gap-6">
      <div class="p-4 bg-gray-50 rounded-lg">
        <h4 class="font-semibold">AnalizÃ« e dendÃ«sisÃ« sÃ« popullatÃ«s</h4>
        <p class="text-sm text-gray-600 mt-2">Studim pÃ«r shpÃ«rndarjen demografike.</p>
      </div>
      <div class="p-4 bg-gray-50 rounded-lg">
        <h4 class="font-semibold">Modelimi i rrezikut nga pÃ«rmbytjet</h4>
        <p class="text-sm text-gray-600 mt-2">VlerÃ«sim i rrezikut bazuar nÃ« tÃ« dhÃ«na hidrologjike.</p>
      </div>
      <div class="p-4 bg-gray-50 rounded-lg">
        <h4 class="font-semibold">Portal WebGIS pÃ«r komunÃ«n</h4>
        <p class="text-sm text-gray-600 mt-2">HartÃ« interaktive pÃ«r qytetarÃ«t dhe planifikuesit.</p>
      </div>
    </div>
  </div>
</section>

<!-- Team Section -->
<section id="team" class="py-12">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-2xl font-semibold">Ekipi</h2>
    <div class="mt-6 grid md:grid-cols-3 gap-6">
      <div class="p-4 bg-white rounded-lg text-center">
        <div class="w-24 h-24 mx-auto rounded-full bg-gray-100 flex items-center justify-center">[Foto]</div>
        <h4 class="mt-4 font-semibold">Emri Mbiemri</h4>
        <p class="text-sm text-gray-500">Kryetar</p>
      </div>
      <div class="p-4 bg-white rounded-lg text-center">
        <div class="w-24 h-24 mx-auto rounded-full bg-gray-100 flex items-center justify-center">[Foto]</div>
        <h4 class="mt-4 font-semibold">Emri Mbiemri</h4>
        <p class="text-sm text-gray-500">Drejtor Ekzekutiv</p>
      </div>
      <div class="p-4 bg-white rounded-lg text-center">
        <div class="w-24 h-24 mx-auto rounded-full bg-gray-100 flex items-center justify-center">[Foto]</div>
        <h4 class="mt-4 font-semibold">Emri Mbiemri</h4>
        <p class="text-sm text-gray-500">AnÃ«tar</p>
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section id="contact" class="bg-white py-12">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-2xl font-semibold">Na kontaktoni</h2>
    <form class="mt-6 space-y-4" action="mailto:geoplan.institute@outlook.com" method="post" enctype="text/plain">
      <input class="w-full px-4 py-3 border rounded-lg" type="text" name="Emri" placeholder="Emri" required />
      <input class="w-full px-4 py-3 border rounded-lg" type="email" name="Email" placeholder="Email" required />
      <textarea class="w-full px-4 py-3 border rounded-lg" name="Mesazhi" rows="4" placeholder="Mesazhi juaj" required></textarea>
      <button class="px-5 py-3 bg-teal-600 text-white rounded-lg">DÃ«rgo mesazh</button>
    </form>
    <div class="mt-8">
      <div id="contactMap" class="w-full h-96 md:h-96 rounded-lg border"></div>
      <button id="resetMapBtn" class="mt-2 px-4 py-2 bg-gray-200 rounded">Reset View</button>
    </div>
  </div>
</section>

<!-- WebMap Modal -->
<div id="webMapModal" class="modal-bg flex">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <iframe id="webmap" src="" width="100%" height="500px" style="border:none;" title="WebMap"></iframe>
  </div>
</div>

<!-- Footer -->
<footer class="bg-gray-900 text-gray-200 py-8">
  <div class="max-w-6xl mx-auto px-6 text-sm flex flex-col md:flex-row justify-between">
    <div>Â© "Instituti GEOPLAN" â€” TÃ« gjitha tÃ« drejtat e rezervuara.</div>
    <div class="mt-3 md:mt-0">Projektuar me â¤ â€” Kontakto: geoplan.institute@outlook.com</div>
  </div>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<script>
  const menuBtn = document.getElementById('menuBtn');
  const navLinks = document.getElementById('navLinks');
  menuBtn && menuBtn.addEventListener('click', () => { navLinks.classList.toggle('hidden'); });

  document.addEventListener('DOMContentLoaded', () => {
    const initialBounds = [[41.85, 19.9],[43.3, 21.9]];
    const contactMap = L.map('contactMap', { zoomControl:true }).fitBounds(initialBounds);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(contactMap);

    // Search with autocomplete
    const geocoder = L.Control.geocoder({
      defaultMarkGeocode: false,
      geocoder: L.Control.Geocoder.nominatim(),
      placeholder: "KÃ«rko vendndodhje...",
      showResultIcons: true
    }).addTo(contactMap);

    let searchMarker;
    geocoder.on('markgeocode', function(e) {
      if(searchMarker) contactMap.removeLayer(searchMarker);
      const center = e.geocode.center;
      searchMarker = L.marker(center, {draggable:true}).addTo(contactMap).bindPopup(e.geocode.name).openPopup();
      contactMap.setView(center, 13);
    });

    document.getElementById('resetMapBtn').addEventListener('click', () => {
      contactMap.fitBounds(initialBounds);
      if(searchMarker) contactMap.removeLayer(searchMarker);
    });

    // My Location button
    const myLocationBtn = L.control({position: 'topleft'});
    myLocationBtn.onAdd = function(map) {
      const div = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');
      div.innerHTML = 'ğŸ“';
      div.style.background = 'white';
      div.style.width = '34px';
      div.style.height = '34px';
      div.style.cursor = 'pointer';
      div.style.textAlign = 'center';
      div.style.lineHeight = '34px';
      div.title = "Gjej pozicionin tim";
      div.onclick = function() {
        contactMap.locate({setView:true, maxZoom:16}).on('locationfound', function(e){
          L.marker(e.latlng, {icon: L.icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png', iconSize:[25,41], iconAnchor:[12,41]})}).addTo(contactMap)
          .bindPopup('Pozicioni juaj').openPopup();
        });
      };
      return div;
    };
    myLocationBtn.addTo(contactMap);

    // WebMap modal
    const modal = document.getElementById('webMapModal');
    const openBtns = [document.getElementById('openWebMap'), document.getElementById('openWebMapHero')];
    const closeBtn = document.getElementById('closeModal');
    openBtns.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        modal.style.display = 'flex';
        const iframe = document.getElementById('webmap');
        iframe.src = "https://qgiscloud.com/edon_sh/Kosova_-_GEOPLAN/?l=Border%20of%20Kosova%2CMunicipal%20Borders%20of%20Kosova%2CCadastral%20Zones%20of%20Kosova%2COpenStreetMap%2COSM%20OpenTopoMap%2CSatellite%2CEsri%20Shaded%20Relief&t=Kosova_-_GEOPLAN&e=1861036%2C5066975%2C2673836%2C5434746";
      });
    });
    closeBtn.addEventListener('click', () => { modal.style.display = 'none'; });
    window.addEventListener('click', (e) => { if(e.target === modal) modal.style.display = 'none'; });
  });
</script>
</body>
</html>
